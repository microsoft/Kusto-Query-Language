---
title:  percentrank_tdigest()
description: Learn how to use the percentrank_tdigest() function to calculate the approximate rank of the value in a set.
ms.reviewer: alexans
ms.topic: reference
ms.date: 03/12/2023
---
# percentrank_tdigest()

Calculates the approximate rank of the value in a set, where rank is expressed as a percentage of the set's size.
This function can be viewed as the inverse of the percentile.

## Syntax

`percentrank_tdigest(`*digest*`,` *value*`)`

## Parameters

|Name|Type|Required|Description|
|--|--|--|--|
|*digest*|string|&check;| An expression that was generated by [tdigest()](tdigest-aggfunction.md) or [tdigest_merge()](tdigest-merge-aggfunction.md).|
|*value*|scalar|&check;|An expression representing a value to be used for percentage ranking calculation.|

> [!NOTE]
> The type of *value* and the type of the elements in *digest* should be the same.

## Returns

The percentage rank of value in a dataset.

## Examples

Getting the percentrank_tdigest() of the damage property that valued 4490$ is ~85%:

> [!div class="nextstepaction"]
> <a href="https://dataexplorer.azure.com/clusters/help/databases/Samples?query=H4sIAAAAAAAAAwsuyS/KdS1LzSsp5qpRKC7NzU0syqxKVShJyUxPLS4JSi1WsIVxNFwScxPTUwOK8gtSi0oqNYEaCorys1KTSxSAAslAM4oS87LjYaoRRugomJhYGmgCANhtajhsAAAA" target="_blank">Run the query</a>

```kusto
StormEvents
| summarize tdigestRes = tdigest(DamageProperty)
| project percentrank_tdigest(tdigestRes, 4490)
```

**Output**

|Column1|
|---|
|85.0015237192293|

Using percentile 85 over the damage property should give 4490$:

> [!div class="nextstepaction"]
> <a href="https://dataexplorer.azure.com/clusters/help/databases/Samples?query=H4sIAAAAAAAAAwsuyS/KdS1LzSsp5qpRKC7NzU0syqxKVShJyUxPLS4JSi1WsIVxNFwScxPTUwOK8gtSi0oqNYEaCorys1KTSxSAAslAMzJzUuNhihEm6ChYmOoolFQWpOanaeTk56VragIAa7SLZXcAAAA=" target="_blank">Run the query</a>

```kusto
StormEvents
| summarize tdigestRes = tdigest(DamageProperty)
| project percentile_tdigest(tdigestRes, 85, typeof(long))
```

**Output**

|percentile_tdigest_tdigestRes|
|---|
|4490|
